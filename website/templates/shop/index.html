{% extends 'shop/base.html' %}
{% load static %}
{% block content %}
<style>
    /* Стиль для изображения товара */
    .product-thumbnail {
        max-width: 280px;
        max-height: 280px;
        width: auto;
        height: auto;
        display: block;
        margin: 0 auto;
    }
</style>

  <!-- Start Product Section -->
  <div class="product-section">
    <div class="container">
        <div class="row">
            <!-- Start Column 1 -->
            <div class="col-md-12 col-lg-3 mb-5 mb-lg-0">
                <h2 class="mb-4 section-title">Crafted with Premium Quality Materials</h2>
                <p class="mb-4">Our products are meticulously crafted from the finest materials available. We believe in creating items that not only meet your needs but also stand the test of time. Each piece is designed with precision and attention to detail, ensuring durability and longevity. Explore our collection to discover the perfect blend of functionality and style for your home.</p>
                <p><a href="{% url 'shop:product_list' %}" class="btn">Explore</a></p>
            </div>
            <!-- End Column 1 -->

            {% for product in random_products %}
            <!-- Start Dynamic Product Column -->
            <div class="col-12 col-md-4 col-lg-3 mb-5 mb-md-0">
                <a class="product-item" href="{{ product.get_absolute_url }}">
                    <img src="{% if product.image %}{{ product.image.url }}{% else %}{% static 'shop/images/default_product.png' %}{% endif %}" class="img-fluid product-thumbnail" alt="{{ product.name }}">
                    <h3 class="product-title">{{ product.name }}</h3>
                    <strong class="product-price">${{ product.price }}</strong>
                    <span class="icon-cross">
                        <img src="{% static 'shop/images/cross.svg' %}" class="img-fluid" alt="Cross">
                    </span>
                </a>
            </div>
            <!-- End Dynamic Product Column -->
            {% endfor %}
        </div>
    </div>
</div>
<!-- End Product Section -->


  <!-- Start Why Choose Us Section -->
  <div class="why-choose-section">
    <div class="container">
      <div class="row justify-content-between">
        <div class="col-lg-6">
          <h2 class="section-title">Why Choose Us</h2>
          <p>We are committed to providing you with products of unparalleled quality and service that exceeds expectations. Our team is dedicated to ensuring that every purchase you make is one that brings joy and satisfaction to your life. Here's why customers trust us:</p>
          <div class="row my-5">
            <div class="col-6 col-md-6">
              <div class="feature">
                <div class="icon">
                  <img src="{% static 'shop/images/truck.svg' %}" alt="Fast & Free Shipping" class="img-fluid">
                </div>
                <h3>Fast &amp; Free Shipping</h3>
                <p>Enjoy quick and reliable delivery to your doorstep without any additional cost.</p>
              </div>
            </div>
            <div class="col-6 col-md-6">
              <div class="feature">
                <div class="icon">
                  <img src="{% static 'shop/images/bag.svg' %}" alt="Easy to Shop" class="img-fluid">
                </div>
                <h3>Easy to Shop</h3>
                <p>Experience a seamless and secure shopping process with our user-friendly platform.</p>
              </div>
            </div>
            <div class="col-6 col-md-6">
              <div class="feature">
                <div class="icon">
                  <img src="{% static 'shop/images/support.svg' %}" alt="24/7 Support" class="img-fluid">
                </div>
                <h3>24/7 Support</h3>
                <p>Our customer service team is available around the clock to assist you with any inquiries.</p>
              </div>
            </div>
            <div class="col-6 col-md-6">
              <div class="feature">
                <div class="icon">
                  <img src="{% static 'shop/images/return.svg' %}" alt="Hassle Free Returns" class="img-fluid">
                </div>
                <h3>Hassle Free Returns</h3>
                <p>Shop with confidence knowing that returns are easy and straightforward.</p>
              </div>
            </div>
          </div>
        </div>
        <div class="col-lg-5">
          <div class="img-wrap">
            <img src="{% static 'shop/images/why-choose-us-img.jpg' %}" alt="Why Choose Us" class="img-fluid">
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- End Why Choose Us Section -->

  <!-- Start We Help Section -->
  <div class="we-help-section">
    <div class="container">
      <div class="row justify-content-between">
        <div class="col-lg-7 mb-5 mb-lg-0">
          <div class="imgs-grid">
            <div class="grid grid-1"><img src="{% static 'shop/images/img-grid-1.jpg' %}" alt="Untree.co" class="img-fluid"></div>
            <div class="grid grid-2"><img src="{% static 'shop/images/img-grid-2.jpg' %}" alt="Untree.co" class="img-fluid"></div>
            <div class="grid grid-3"><img src="{% static 'shop/images/img-grid-3.jpg' %}" alt="Untree.co" class="img-fluid"></div>
          </div>
        </div>
        <div class="col-lg-5 ps-lg-5">
          <h2 class="section-title mb-4">We Help You Create Stunning Modern Interiors</h2>
          <p>Transform your living space into a modern sanctuary with our expertly designed products. Whether you're looking to refresh a single room or overhaul your entire home, our collection has everything you need to bring your vision to life. From sleek furniture to stylish decor, we offer a wide range of options to suit every taste and budget.</p>
          <ul class="list-unstyled custom-list my-4">
            <li>Expertly crafted products for modern living</li>
            <li>Versatile designs that fit any style</li>
            <li>Durable materials that ensure longevity</li>
            <li>Exceptional value without compromising on quality</li>
          </ul>
          <p><a href="{% url 'shop:product_list' %}" class="btn">Shop</a></p>
        </div>
      </div>
    </div>
  </div>
  <!-- End We Help Section -->

  <!-- Start Popular Product -->
<div class="popular-product">
    <div class="container">
            <div class="row mb-5">
               <div class="col-md-6">
                  <h2 class="section-title">Best Selling</h2>
                </div>
            </div>
        <div class="row">

            {% for product in popular_products %}
            <div class="col-12 col-md-6 col-lg-4 mb-4 mb-lg-0">
                <div class="product-item-sm d-flex">
                    <div class="thumbnail">
                        <img src="{% if product.image %}{{ product.image.url }}{% else %}{% static 'shop/images/default_product.png' %}{% endif %}" alt="{{ product.name }}" class="img-fluid">
                    </div>
                    <div class="pt-3">
                        <h3>{{ product.name }}</h3>
                        <p>{{ product.description|truncatewords:20 }}</p>
                        <p><a href="{{ product.get_absolute_url }}">Read More</a></p>
                    </div>
                </div>
            </div>
            {% endfor %}

        </div>
    </div>
</div>
<!-- End Popular Product -->



  <!-- Start Blog Section -->
<div class="blog-section">
    <div class="container">
        <div class="row mb-5">
            <div class="col-md-6">
                <h2 class="section-title">Recent Blog Posts</h2>
            </div>
            <div class="col-md-6 text-start text-md-end">
                <a href="{% url 'shop:blog' %}" class="more">View All Posts</a>
            </div>
        </div>
        <div class="row">
            {% for post in recent_blog_posts %}
            <div class="col-12 col-sm-6 col-md-4 mb-4 mb-md-0">
                <div class="post-entry">
                    <a href="{{ post.get_absolute_url }}" class="post-thumbnail">
                        <img src="{% if post.images.first %}{{ post.images.first.image.url }}{% else %}{% static 'shop/images/default-post.jpg' %}{% endif %}" alt="{{ post.title }}" class="img-fluid fixed-size-image">
                    </a>
                    <div class="post-content-entry">
                        <h3><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h3>
                        <div class="meta">
                            <span>by <a href="#">{{ post.author.username }}</a></span>
                            <span>on <a href="#">{{ post.created_at|date:"F d, Y" }}</a></span>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
<!-- End Blog Section -->

<!-- Custom CSS for Blog Post Images -->
<style>
    .fixed-size-image {
        width: 370px;
        height: 250px;
        object-fit: cover;
        border-radius: 8px; /* Сохранение округлых углов */
    }
</style>
{% endblock %}
